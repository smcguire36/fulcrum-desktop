'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _client = require('../../api/client');

var _client2 = _interopRequireDefault(_client);

var _classificationSet = require('../../models/classification-set');

var _classificationSet2 = _interopRequireDefault(_classificationSet);

var _downloadResource = require('./download-resource');

var _downloadResource2 = _interopRequireDefault(_downloadResource);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class DownloadClassificationSets extends _downloadResource2.default {
  get resourceName() {
    return 'classification_sets';
  }

  get typeName() {
    return 'classification-set';
  }

  get propertyName() {
    return 'classificationSet';
  }

  fetchObjects(lastSync, sequence) {
    return _client2.default.getClassificationSets(this.account);
  }

  fetchLocalObjects() {
    return this.account.findClassificationSets();
  }

  findOrCreate(database, attributes) {
    return _classificationSet2.default.findOrCreate(database, { resource_id: attributes.id, account_id: this.account.rowID });
  }
}
exports.default = DownloadClassificationSets;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tYWluL3N5bmMvdGFza3MvZG93bmxvYWQtY2xhc3NpZmljYXRpb24tc2V0cy5qcyJdLCJuYW1lcyI6WyJEb3dubG9hZENsYXNzaWZpY2F0aW9uU2V0cyIsInJlc291cmNlTmFtZSIsInR5cGVOYW1lIiwicHJvcGVydHlOYW1lIiwiZmV0Y2hPYmplY3RzIiwibGFzdFN5bmMiLCJzZXF1ZW5jZSIsImdldENsYXNzaWZpY2F0aW9uU2V0cyIsImFjY291bnQiLCJmZXRjaExvY2FsT2JqZWN0cyIsImZpbmRDbGFzc2lmaWNhdGlvblNldHMiLCJmaW5kT3JDcmVhdGUiLCJkYXRhYmFzZSIsImF0dHJpYnV0ZXMiLCJyZXNvdXJjZV9pZCIsImlkIiwiYWNjb3VudF9pZCIsInJvd0lEIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVlLE1BQU1BLDBCQUFOLG9DQUEwRDtBQUN2RSxNQUFJQyxZQUFKLEdBQW1CO0FBQ2pCLFdBQU8scUJBQVA7QUFDRDs7QUFFRCxNQUFJQyxRQUFKLEdBQWU7QUFDYixXQUFPLG9CQUFQO0FBQ0Q7O0FBRUQsTUFBSUMsWUFBSixHQUFtQjtBQUNqQixXQUFPLG1CQUFQO0FBQ0Q7O0FBRURDLGVBQWFDLFFBQWIsRUFBdUJDLFFBQXZCLEVBQWlDO0FBQy9CLFdBQU8saUJBQU9DLHFCQUFQLENBQTZCLEtBQUtDLE9BQWxDLENBQVA7QUFDRDs7QUFFREMsc0JBQW9CO0FBQ2xCLFdBQU8sS0FBS0QsT0FBTCxDQUFhRSxzQkFBYixFQUFQO0FBQ0Q7O0FBRURDLGVBQWFDLFFBQWIsRUFBdUJDLFVBQXZCLEVBQW1DO0FBQ2pDLFdBQU8sNEJBQWtCRixZQUFsQixDQUErQkMsUUFBL0IsRUFBeUMsRUFBQ0UsYUFBYUQsV0FBV0UsRUFBekIsRUFBNkJDLFlBQVksS0FBS1IsT0FBTCxDQUFhUyxLQUF0RCxFQUF6QyxDQUFQO0FBQ0Q7QUF2QnNFO2tCQUFwRGpCLDBCIiwiZmlsZSI6ImRvd25sb2FkLWNsYXNzaWZpY2F0aW9uLXNldHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2xpZW50IGZyb20gJy4uLy4uL2FwaS9jbGllbnQnO1xyXG5pbXBvcnQgQ2xhc3NpZmljYXRpb25TZXQgZnJvbSAnLi4vLi4vbW9kZWxzL2NsYXNzaWZpY2F0aW9uLXNldCc7XHJcbmltcG9ydCBEb3dubG9hZFJlc291cmNlIGZyb20gJy4vZG93bmxvYWQtcmVzb3VyY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG93bmxvYWRDbGFzc2lmaWNhdGlvblNldHMgZXh0ZW5kcyBEb3dubG9hZFJlc291cmNlIHtcclxuICBnZXQgcmVzb3VyY2VOYW1lKCkge1xyXG4gICAgcmV0dXJuICdjbGFzc2lmaWNhdGlvbl9zZXRzJztcclxuICB9XHJcblxyXG4gIGdldCB0eXBlTmFtZSgpIHtcclxuICAgIHJldHVybiAnY2xhc3NpZmljYXRpb24tc2V0JztcclxuICB9XHJcblxyXG4gIGdldCBwcm9wZXJ0eU5hbWUoKSB7XHJcbiAgICByZXR1cm4gJ2NsYXNzaWZpY2F0aW9uU2V0JztcclxuICB9XHJcblxyXG4gIGZldGNoT2JqZWN0cyhsYXN0U3luYywgc2VxdWVuY2UpIHtcclxuICAgIHJldHVybiBDbGllbnQuZ2V0Q2xhc3NpZmljYXRpb25TZXRzKHRoaXMuYWNjb3VudCk7XHJcbiAgfVxyXG5cclxuICBmZXRjaExvY2FsT2JqZWN0cygpIHtcclxuICAgIHJldHVybiB0aGlzLmFjY291bnQuZmluZENsYXNzaWZpY2F0aW9uU2V0cygpO1xyXG4gIH1cclxuXHJcbiAgZmluZE9yQ3JlYXRlKGRhdGFiYXNlLCBhdHRyaWJ1dGVzKSB7XHJcbiAgICByZXR1cm4gQ2xhc3NpZmljYXRpb25TZXQuZmluZE9yQ3JlYXRlKGRhdGFiYXNlLCB7cmVzb3VyY2VfaWQ6IGF0dHJpYnV0ZXMuaWQsIGFjY291bnRfaWQ6IHRoaXMuYWNjb3VudC5yb3dJRH0pO1xyXG4gIH1cclxufVxyXG4iXX0=